import './polyfills.server.mjs';
import{a as Y,b as J,c as Q,d as h,e as U}from"./chunk-NPHL7QBD.mjs";import{b as G,d as E,f as R,g as A,k as D,m as O,n as z,r as q,t as K}from"./chunk-RAQZJUE3.mjs";import{a as w,c as j,r as S}from"./chunk-IXQAKVNQ.mjs";import{Ab as _,Fb as g,Jb as t,Kb as o,Lb as p,Pb as L,Rb as B,Sb as x,Vb as F,Y as P,ab as n,bc as s,bd as H,cc as v,dc as c,fb as C,ja as k,jd as V,ka as M,kc as N,la as f,lc as a,ma as b,mb as T,mc as l,nb as I,rb as u}from"./chunk-4OLHNY3Y.mjs";import"./chunk-S6KH3LOX.mjs";var Z=e=>({"border-red-500 focus:ring-red-500 focus:border-red-500":e});function $(e,r){e&1&&(t(0,"div",8)(1,"div",9),f(),t(2,"svg",10),p(3,"path",11),o()(),b(),t(4,"h4",12),s(5),a(6,"translate"),o(),t(7,"p",13),s(8),a(9,"translate"),o(),t(10,"a",14),s(11),a(12,"translate"),o()()),e&2&&(n(5),c(" ",l(6,3,"Reset Link Sent")," "),n(3),c(" ",l(9,5,"Please check your email for instructions to reset your password")," "),n(3),c(" ",l(12,7,"BACK TO LOGIN")," "))}function ee(e,r){e&1&&(t(0,"p"),s(1),a(2,"translate"),o()),e&2&&(n(),v(l(2,1,"Email is required")))}function te(e,r){e&1&&(t(0,"p"),s(1),a(2,"translate"),o()),e&2&&(n(),v(l(2,1,"Please enter a valid email address")))}function ie(e,r){if(e&1&&(t(0,"div",24),u(1,ee,3,3,"p")(2,te,3,3,"p"),o()),e&2){let i,d=x(2);n(),g((i=d.forgotPasswordForm.get("email"))!=null&&i.hasError("required")?1:(i=d.forgotPasswordForm.get("email"))!=null&&i.hasError("email")?2:-1)}}function oe(e,r){if(e&1&&(t(0,"div",25)(1,"div",33)(2,"div",34),f(),t(3,"svg",35),p(4,"path",36),o()(),b(),t(5,"div",37)(6,"p",38),s(7),o()()()()),e&2){let i=x(2);n(7),v(i.errorMessage)}}function ne(e,r){e&1&&(f(),t(0,"svg",27),p(1,"circle",39)(2,"path",40),o())}function re(e,r){if(e&1){let i=L();t(0,"p",15),s(1),a(2,"translate"),o(),t(3,"form",16),B("ngSubmit",function(){k(i);let m=x();return M(m.onSubmit())}),t(4,"div",17)(5,"label",18),s(6),a(7,"translate"),o(),t(8,"div",19)(9,"div",20),f(),t(10,"svg",21),p(11,"path",22),o()(),b(),p(12,"input",23),a(13,"translate"),o(),u(14,ie,3,1,"div",24),o(),u(15,oe,8,1,"div",25),t(16,"button",26),u(17,ne,3,0,":svg:svg",27),t(18,"span"),s(19),a(20,"translate"),o()(),t(21,"div",28)(22,"div",29),p(23,"div",30),o()(),t(24,"div",31)(25,"a",32),s(26),a(27,"translate"),o()()()}if(e&2){let i,d,m=x();n(),c(" ",l(2,11,"Enter your email address and we'll send you a link to reset your password")," "),n(2),_("formGroup",m.forgotPasswordForm),n(3),c(" ",l(7,13,"Email Address")," "),n(6),F("placeholder",l(13,15,"johndoe@example.com")),_("ngClass",N(21,Z,((i=m.forgotPasswordForm.get("email"))==null?null:i.invalid)&&((i=m.forgotPasswordForm.get("email"))==null?null:i.touched))),n(2),g((d=m.forgotPasswordForm.get("email"))!=null&&d.invalid&&((d=m.forgotPasswordForm.get("email"))!=null&&d.touched)?14:-1),n(),g(m.errorMessage?15:-1),n(),_("disabled",m.isLoading||m.forgotPasswordForm.invalid),n(),g(m.isLoading?17:-1),n(2),v(l(20,17,"SEND RESET LINK")),n(7),c(" ",l(27,19,"Back to Login")," ")}}var y=class e{constructor(r,i,d){this.fb=r;this.http=i;this.translateService=d;this.forgotPasswordForm=this.fb.group({email:["",[E.required,E.email]]})}forgotPasswordForm;isLoading=!1;resetLinkSent=!1;errorMessage=null;language="en";currentYear=new Date().getFullYear();ngOnInit(){this.translateService.use(this.language)}onSubmit(){if(this.forgotPasswordForm.invalid){this.forgotPasswordForm.markAllAsTouched();return}this.isLoading=!0,this.errorMessage=null,this.http.post("/api/auth/forgot-password",{email:this.forgotPasswordForm.value.email}).subscribe({next:()=>{this.isLoading=!1,this.resetLinkSent=!0},error:r=>{this.isLoading=!1,this.errorMessage=r.error?.message||this.translateService.instant("An unexpected error occurred. Please try again.")}})}changeLanguage(r){let i=r.target;this.language=i.value,this.translateService.use(this.language)}static \u0275fac=function(i){return new(i||e)(C(q),C(w),C(J))};static \u0275cmp=T({type:e,selectors:[["app-forgot-password"]],decls:13,vars:7,consts:[[1,"grid","place-items-center"],[1,"text-center","mt-5","p-10"],["src","assets/logos/logo.png",1,"w-full","xl:w-[30vw]",3,"alt"],[1,"w-full","xl:w-[30vw]","p-2"],[1,"bg-white","bg-opacity-90","backdrop-blur-sm","rounded-2xl","shadow-xl","overflow-hidden"],[1,"bg-blue-600","py-6","px-8"],[1,"text-center","text-3xl","font-bold","text-white"],[1,"p-8"],[1,"text-center","py-6"],[1,"mx-auto","flex","items-center","justify-center","h-16","w-16","rounded-full","bg-green-100","mb-4"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-10","w-10","text-green-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-xl","font-semibold","text-gray-800","mb-2"],[1,"text-gray-600","mb-8"],["href","/login",1,"block","w-full","py-3","px-4","rounded-lg","bg-blue-600","hover:bg-blue-700","focus:ring-4","focus:ring-blue-300","text-white","font-medium","text-center","transition","duration-200"],[1,"text-gray-600","text-center","mb-6"],[3,"ngSubmit","formGroup"],[1,"mb-6"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"],["type","email","id","email","formControlName","email",1,"block","w-full","pl-10","pr-3","py-3","border","border-gray-300","rounded-lg","focus:ring-blue-500","focus:border-blue-500","text-black",3,"ngClass","placeholder"],[1,"mt-2","text-sm","text-red-600"],[1,"bg-red-50","border-l-4","border-red-500","p-4","mb-6"],["type","submit",1,"w-full","flex","justify-center","items-center","py-3","px-4","border","border-transparent","rounded-lg","shadow-sm","text-base","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed","transition","duration-200",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],[1,"relative","my-8"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"text-center"],["href","/login",1,"font-medium","text-blue-600","hover:text-blue-500","transition","duration-200"],[1,"flex"],[1,"flex-shrink-0"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","text-red-700"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(i,d){i&1&&(t(0,"div",0)(1,"header",1),p(2,"img",2),a(3,"translate"),o(),t(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3",6),s(8),a(9,"translate"),o()(),t(10,"div",7),u(11,$,13,9,"div",8)(12,re,28,23),o()()()()),i&2&&(n(2),F("alt",l(3,3,"Logo")),n(6),c(" ",l(9,5,"Forgot Password")," "),n(3),g(d.resetLinkSent?11:12))},dependencies:[V,H,K,D,G,R,A,O,z,S,h,Q],encapsulation:2})};function ae(e){return new U(e)}var le=[{path:"",component:y}],W=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=I({type:e});static \u0275inj=P({providers:[w],imports:[S.forChild(le),j,h.forRoot({loader:{provide:Y,useFactory:ae,deps:[w]}}),h]})};export{W as ForgotPasswordModule,ae as HttpLoaderFactory};
