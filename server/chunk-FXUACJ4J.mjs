import './polyfills.server.mjs';
import{a as U}from"./chunk-322JQB7X.mjs";import{b as X,c as K,g as Y,h as $,l as ee,m as te,o as ie,p as ne}from"./chunk-C4OOYDO2.mjs";import{d as G,e as N}from"./chunk-KXM756VK.mjs";import{H as j,I as k}from"./chunk-JTIXJBAV.mjs";import{a as oe,b as re,c as ae,d as S,e as le}from"./chunk-NPHL7QBD.mjs";import{b as D,d as _,f as R,g as q,k as H,m as A,n as V,o as W,p as z,r as Z,s as J,t as Q}from"./chunk-RAQZJUE3.mjs";import{a as I,c as P,n as O,r as T}from"./chunk-IXQAKVNQ.mjs";import{Ab as c,Fa as M,Fb as b,Jb as t,Kb as n,Lb as g,Rb as f,Vb as x,Y as C,ab as e,bc as o,cc as p,dc as h,fb as u,jd as F,lc as a,mb as E,mc as l,md as B,nb as L,rb as w}from"./chunk-4OLHNY3Y.mjs";import"./chunk-S6KH3LOX.mjs";function me(r,s){r&1&&(t(0,"mat-error"),o(1),a(2,"translate"),n()),r&2&&(e(),p(l(2,1,"Please enter a valid email address")))}function de(r,s){r&1&&(t(0,"mat-error"),o(1),a(2,"translate"),t(3,"strong"),o(4),a(5,"translate"),n()()),r&2&&(e(),h("",l(2,2,"Email is")," "),e(3),p(l(5,4,"required")))}function ce(r,s){r&1&&(t(0,"mat-error"),o(1),a(2,"translate"),t(3,"strong"),o(4),a(5,"translate"),n()()),r&2&&(e(),h("",l(2,2,"Password is")," "),e(3),p(l(5,4,"required")))}function ue(r,s){r&1&&(t(0,"mat-error"),o(1),a(2,"translate"),n()),r&2&&(e(),p(l(2,1,"Password must be at least 6 characters")))}var y=class r{constructor(s,m,i,d,v){this.fb=s;this.router=m;this.authService=i;this.translate=d;this.platformId=v;this.isBrowser=B(this.platformId),this.loginForm=this.fb.group({email:["",[_.required,_.email]],password:["",[_.required,_.minLength(6)]]})}loginForm;hidePassword=!0;loginError=!1;language="en";isLoading=!1;isBrowser;ngOnInit(){this.isBrowser?(this.language=sessionStorage.getItem("language")||"en",this.translate.use(this.language),this.authService.getCurrentLoginStatus()&&this.router.navigate(["/dashboard"])):this.translate.use("en")}onSubmit(){this.loginForm.valid&&this.authService.login(this.loginForm.value.email,this.loginForm.value.password)&&this.router.navigate(["/dashboard"])}signInWithGoogle(){if(!this.isBrowser){console.error("Google sign-in requires browser environment");return}this.isLoading=!0;try{this.authService.loginWithGoogle()}catch(s){console.error("Google sign-in error:",s),this.loginError=!0,this.isLoading=!1}}changeLanguage(s){if(!this.isBrowser)return;let i=s.target.value;this.translate.use(i),sessionStorage.setItem("language",i)}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}static \u0275fac=function(m){return new(m||r)(u(Z),u(O),u(U),u(re),u(M))};static \u0275cmp=E({type:r,selectors:[["app-login"]],decls:63,vars:48,consts:[[1,"grid","place-items-center"],[1,"absolute","top-0","right-0","flex","space-y-2","p-3","md:flex-row","md:items-center","md:space-x-2","md:space-y-0","md:p-5"],["src","assets/icons/language.png",1,"w-8","h-8","self-center","md:w-10","md:h-10",3,"alt"],[1,"bg-transparent","border-b-2","border-gray-300","focus:border-blue-500","text-sm","p-1",3,"change"],["value","en",3,"selected"],["value","xh",3,"selected"],["value","zu",3,"selected"],["value","st",3,"selected"],[1,"text-center","mt-5","p-10"],["src","assets/logos/logo.png",1,"w-full","xl:w-[30vw]",3,"alt"],[1,"min-h-auto","flex","justify-center","xl:w-[35vw]"],[1,"w-full","p-8","rounded-xl","xl:bg-white","xl:bg-opacity-50","xl:w-full","xl:min-h-[60vh]","xl:max-h-[80vh]"],[1,"text-center","text-4xl","mb-8"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"w-full"],["type","email","matInput","","formControlName","email",3,"placeholder"],["type","password","matInput","","formControlName","password",3,"type","placeholder"],[1,"absolute","right-4","top-1/2","transform","-translate-y-1/2","w-6","h-6","text-gray-500","cursor-pointer",3,"click"],[1,"flex","justify-end"],["href","forgot-password",1,"text-white","lg:text-blue-800","hover:text-blue-300"],["mat-flat-button","",1,"primary-btn","w-full","rounded-full",3,"submit"],["mat-flat-button","","type","button",1,"custom-btn","w-full","rounded-full",3,"click","disabled"],[1,"google-icon"],[1,"ml-3"],[1,"flex","justify-start","mt-6","ml-1"],[1,"text-white"],["href","sign-up",1,"text-blue-800","hover:text-blue-300"]],template:function(m,i){if(m&1&&(t(0,"div",0)(1,"div",1),g(2,"img",2),a(3,"translate"),t(4,"select",3),f("change",function(v){return i.changeLanguage(v)}),t(5,"option",4),o(6,"English"),n(),t(7,"option",5),o(8,"Xhosa"),n(),t(9,"option",6),o(10,"Zulu"),n(),t(11,"option",7),o(12,"South Sotho"),n()()(),t(13,"header",8),g(14,"img",9),a(15,"translate"),n(),t(16,"div",10)(17,"div",11)(18,"h3",12),o(19),a(20,"translate"),n(),t(21,"form",13),f("ngSubmit",function(){return i.onSubmit()}),t(22,"mat-form-field",14)(23,"mat-label"),o(24),a(25,"translate"),n(),g(26,"input",15),a(27,"translate"),w(28,me,3,3,"mat-error")(29,de,6,6,"mat-error"),n(),t(30,"mat-form-field",14)(31,"mat-label"),o(32),a(33,"translate"),n(),g(34,"input",16),a(35,"translate"),t(36,"mat-icon",17),f("click",function(){return i.togglePasswordVisibility()}),o(37),n(),w(38,ce,6,6,"mat-error")(39,ue,3,3,"mat-error"),n(),t(40,"div",18)(41,"a",19),o(42),a(43,"translate"),n()(),t(44,"button",20),f("submit",function(){return i.onSubmit()}),t(45,"span"),o(46),a(47,"translate"),n()(),g(48,"mat-divider"),t(49,"button",21),f("click",function(){return i.signInWithGoogle()}),t(50,"mat-icon",22),o(51,"google"),n(),t(52,"span",23),o(53),a(54,"translate"),n()()(),t(55,"div",24)(56,"span",25),o(57),a(58,"translate"),n(),o(59," \xA0 "),t(60,"a",26),o(61),a(62,"translate"),n()()()()()),m&2){let d,v;e(2),x("alt",l(3,24,"Language Icon")),e(3),c("selected",i.language==="en"),e(2),c("selected",i.language==="xh"),e(2),c("selected",i.language==="zu"),e(2),c("selected",i.language==="st"),e(3),x("alt",l(15,26,"Logo")),e(5),h(" ",l(20,28,"Login")," "),e(2),c("formGroup",i.loginForm),e(3),p(l(25,30,"Email")),e(2),x("placeholder",l(27,32,"Ex. johndoe@email.com")),e(2),b(i.loginForm.hasError("email")&&!i.loginForm.hasError("required")?28:-1),e(),b(i.loginForm.hasError("required")?29:-1),e(3),p(l(33,34,"Password")),e(2),x("placeholder",l(35,36,"Enter your password")),c("type",i.hidePassword?"password":"text"),e(3),h(" ",i.hidePassword?"visibility_off":"visibility"," "),e(),b((d=i.loginForm.get("password"))!=null&&d.hasError("required")?38:-1),e(),b((v=i.loginForm.get("password"))!=null&&v.hasError("minlength")?39:-1),e(3),p(l(43,38,"Forgot Password?")),e(4),p(l(47,40,"LOGIN")),e(3),c("disabled",i.isLoading),e(4),p(l(54,42,"OR LOGIN WITH GOOGLE")),e(4),p(l(58,44,"Don't have an account?")),e(4),h(" ",l(62,46,"Sign Up Now"),"")}},dependencies:[F,J,H,W,z,D,R,q,Q,A,V,$,Y,X,K,te,ee,ne,ie,k,j,N,G,S,ae],styles:['.mat-input-element[_ngcontent-%COMP%]::placeholder{color:#fff!important;opacity:1}.mat-input-element[_ngcontent-%COMP%]{color:#fff!important}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]{color:#fff}.google-icon[_ngcontent-%COMP%]{background-image:url("./media/google-VJHZA2GQ.png");background-size:contain;background-repeat:no-repeat;width:24px;height:24px;display:inline-block}.primary-btn[_ngcontent-%COMP%]{display:flex;background-color:#fff!important;color:#000!important;justify-content:center;align-items:center}.primary-btn[_ngcontent-%COMP%]:hover{background-color:#134791!important;color:#fff!important}.custom-btn[_ngcontent-%COMP%]{display:flex;background-color:#6b6c6e!important;color:#fff!important;justify-content:center;align-items:center}select[_ngcontent-%COMP%]{background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:transparent;color:#000}'],changeDetection:0})};function ge(r){return new le(r)}var fe=[{path:"",component:y}],se=class r{static \u0275fac=function(m){return new(m||r)};static \u0275mod=L({type:r});static \u0275inj=C({providers:[I],imports:[T.forChild(fe),P,S.forRoot({loader:{provide:oe,useFactory:ge,deps:[I]}}),S]})};export{ge as HttpLoaderFactory,se as LoginModule};
