import{a as se,e as de}from"./chunk-5RYSZYHB.js";import{a as re,b as oe,c as ae,d as le,e as me}from"./chunk-ZAESWVLT.js";import{l as ne}from"./chunk-I7E6UO7N.js";import"./chunk-63ZRRZ5J.js";import{b as $,d as z,g as J,h as O,l as Y,m as ee,o as te,p as ie}from"./chunk-NOIGCRU2.js";import{e as H}from"./chunk-3PDXLKW5.js";import{I as L}from"./chunk-H7XDWXKS.js";import{b as U,d as f,f as Z,g as j,h as C,j as o,m as Q,n as W,s as X,t as K}from"./chunk-O7JVAFX7.js";import{i as q,m as B}from"./chunk-W4FWND6D.js";import{Ab as u,Fb as P,Jb as t,Kb as e,Lb as m,Pb as _,Rb as b,Rc as R,Sb as p,Xb as D,Xc as G,Yb as V,Zb as T,a as h,aa as M,ac as y,bc as i,cb as d,hb as A,na as g,oa as x,ob as k,pb as N,tb as S,za as I}from"./chunk-SKFIY4RN.js";var be=["streetAddressInput"];function ve(s,r){if(s&1){let n=_();t(0,"div",19)(1,"div",20)(2,"h3",11),i(3,"ID Number: 0009085259084"),e()(),t(4,"div",21)(5,"mat-form-field",21)(6,"mat-label"),i(7,"Full Name"),e(),m(8,"input",22),e(),t(9,"mat-form-field",21)(10,"mat-label"),i(11,"Surname"),e(),m(12,"input",23),e(),t(13,"mat-form-field",21)(14,"mat-label"),i(15,"Date of Birth"),e(),m(16,"input",24)(17,"mat-datepicker-toggle",25)(18,"mat-datepicker",null,0),e(),t(20,"mat-form-field",21)(21,"mat-label"),i(22,"ID Issue Date"),e(),m(23,"input",26)(24,"mat-datepicker-toggle",25)(25,"mat-datepicker",null,1),e(),t(27,"mat-form-field",21)(28,"mat-label"),i(29,"Email Address"),e(),m(30,"input",27),e()(),t(31,"button",28),b("click",function(){g(n);let l=p(2);return x(l.nextMobilePage())}),t(32,"span"),i(33,"NEXT"),e()()()}if(s&2){let n=y(19),a=y(26);d(16),u("matDatepicker",n),d(),u("for",n),d(6),u("matDatepicker",a),d(),u("for",a)}}function Ce(s,r){if(s&1){let n=_();t(0,"div")(1,"div",29)(2,"p",30),i(3,"Address Information"),e()(),t(4,"div",21)(5,"div",7)(6,"mat-form-field",21)(7,"mat-label"),i(8,"Street Address"),e(),m(9,"input",31),e(),t(10,"mat-form-field",21)(11,"mat-label"),i(12,"Address 1"),e(),m(13,"input",32),e(),t(14,"mat-form-field",21)(15,"mat-label"),i(16,"Address 2"),e(),m(17,"input",33),e(),t(18,"mat-form-field",21)(19,"mat-label"),i(20,"Address 3"),e(),m(21,"input",34),e(),t(22,"mat-form-field",21)(23,"mat-label"),i(24,"Postal Address"),e(),m(25,"input",35),e()()(),t(26,"div",36)(27,"button",37),b("click",function(){g(n);let l=p(2);return x(l.prevMobilePage())}),t(28,"span"),i(29,"BACK"),e()(),t(30,"button",38),b("click",function(){g(n);let l=p(2);return x(l.nextMobilePage())}),t(31,"span"),i(32,"NEXT"),e()()()()}if(s&2){let n=p(2);d(5),u("formGroup",n.addressForm)}}function Ee(s,r){if(s&1){let n=_();t(0,"div")(1,"div",29)(2,"p",30),i(3,"Municipal Information"),e()(),t(4,"div",39)(5,"mat-form-field",21)(6,"mat-label"),i(7,"Municipal Account Number"),e(),m(8,"input",40),e(),t(9,"mat-form-field",21)(10,"mat-label"),i(11,"Village"),e(),m(12,"input",41),e(),t(13,"mat-form-field",21)(14,"mat-label"),i(15,"Ward"),e(),m(16,"input",42),e(),t(17,"mat-form-field",21)(18,"mat-label"),i(19,"Salary"),e(),m(20,"input",43),e(),t(21,"mat-form-field",21)(22,"mat-label"),i(23,"Employed"),e(),m(24,"input",44),e(),t(25,"mat-form-field",21)(26,"mat-label"),i(27,"Employer / EPWP Skill"),e(),m(28,"input",45),e(),t(29,"mat-form-field",21)(30,"mat-label"),i(31,"Remarks"),e(),m(32,"textarea",46),e()(),t(33,"div",36)(34,"button",37),b("click",function(){g(n);let l=p(2);return x(l.prevMobilePage())}),t(35,"span"),i(36,"BACK"),e()(),t(37,"button",38),b("click",function(){g(n);let l=p(2);return x(l.nextPage())}),t(38,"span"),i(39,"NEXT"),e()()()()}if(s&2){let n=p(2);d(4),u("formGroup",n.municipalForm)}}function _e(s,r){if(s&1&&(t(0,"div",7)(1,"div",8)(2,"p",9),i(3,"Create and Edit Arrangements"),e()(),t(4,"div",10)(5,"h3",11),i(6,"Account Number: 0009085259084"),e()(),t(7,"div",12)(8,"div",13)(9,"mat-card",14)(10,"div",8)(11,"p",9),i(12,"Additional Account Holder Information"),e()(),t(13,"h3",15),i(14,"Salary Number:"),e(),t(15,"h3",15),i(16,"Cell Number:"),e(),t(17,"h3",15),i(18,"Address:"),e(),t(19,"h3",15),i(20,"Work Address:"),e(),t(21,"h3",15),i(22,"Net Salary:"),e(),t(23,"h3",15),i(24,"Work Number:"),e(),t(25,"h3",15),i(26,"Spouse ID Number:"),e(),t(27,"h3",15),i(28,"Spouse Full Name:"),e(),t(29,"h3",15),i(30,"Spouse Cell Number:"),e(),t(31,"h3",15),i(32,"Spouse Surname:"),e()()(),m(33,"div",16),t(34,"div",13)(35,"mat-card",14)(36,"div",8)(37,"p",9),i(38,"Arrangement Account Details"),e()(),t(39,"h3",15),i(40,"Account Number:"),e(),t(41,"h3",15),i(42,"Arrangement Amount:"),e(),t(43,"h3",15),i(44,"Arrangement Count:"),e(),t(45,"h3",15),i(46,"Arrangement Number:"),e(),t(47,"h3",15),i(48,"Installment:"),e(),t(49,"h3",15),i(50,"Created By:"),e(),t(51,"h3",15),i(52,"Arrangement Account:"),e(),t(53,"h3",15),i(54,"Arrangement Term:"),e(),t(55,"h3",15),i(56,"Account Status:"),e(),t(57,"h3",15),i(58,"PTP Date:"),e()()()(),S(59,ve,34,4,"div",17)(60,Ce,33,1,"div",18)(61,Ee,40,1,"div",18),e()),s&2){let n=p();u("formGroup",n.personalForm),d(59),u("ngIf",n.mobilePage===1),d(),u("ngIf",n.mobilePage===2),d(),u("ngIf",n.mobilePage===3)}}var w=class s{constructor(r,n){this.ngZone=r;this.router=n}currentPage=1;isAddingMember=!1;isHouseholdFormEnabled=!1;set streetAddressInput(r){r&&this.initAutocomplete(r.nativeElement)}autocomplete;language="";get form(){return h(h({},this.addressForm.controls),this.municipalForm.controls)}personalForm=new C({name:new o(""),surname:new o(""),idno:new o(""),dob:new o(""),iddate:new o(""),email:new o(""),phone:new o(""),telephone:new o(""),address:new o("")});addressForm=new C({streetAddress:new o(""),address1:new o(""),address2:new o(""),address3:new o(""),postalAddress:new o("")});municipalForm=new C({municipalAccount1:new o(""),municipalAccount2:new o(""),munAccNo:new o(""),village:new o(""),ward:new o(""),dependents:new o(""),salary:new o(""),employed:new o(""),epwpEmploy:new o(""),remarks:new o("")});householdForm=new C({idno:new o({value:"",disabled:!0},[f.required]),names:new o({value:"",disabled:!0},[f.required]),surname:new o({value:"",disabled:!0},[f.required]),dob:new o({value:"",disabled:!0},[f.required]),employed:new o({value:"",disabled:!0},[f.required]),contactNo:new o({value:"",disabled:!0},[f.required])});uploadedFiles={sassa:null,idDocument:null,payslip:null,municipal:null};showMunicipalSection=!1;initAutocomplete(r){try{if(typeof google>"u"||!google.maps){console.error("Google Maps JavaScript API not loaded");return}this.autocomplete=new google.maps.places.Autocomplete(r,{types:["geocode"],componentRestrictions:{country:"ZA"},fields:["address_components","formatted_address"]}),this.autocomplete.addListener("place_changed",()=>{this.ngZone.run(()=>{try{let n=this.autocomplete.getPlace();if(console.log("Place selected:",n),!n.address_components){console.error("No address components available");return}this.fillAddressFields(n)}catch(n){console.error("Error processing place selection:",n)}})})}catch(n){console.error("Error initializing autocomplete:",n)}}fillAddressFields(r){if(!r)return;let n=r.formatted_address||"";this.addressForm.reset(),this.addressForm.patchValue({streetAddress:n,address1:"",address2:"",address3:"",postalAddress:""});let a="",l="",v="",E="",F="",pe="";for(let c of r.address_components)switch(c.types[0]){case"street_number":a=c.long_name;break;case"route":l=c.long_name;break;case"locality":v=c.long_name;break;case"administrative_area_level_1":E=c.long_name;break;case"postal_code":F=c.long_name;break;case"country":pe=c.long_name;break}let ce=a?`${a} ${l}`:l,fe=v,he=E,ge=F;this.addressForm.patchValue({address1:ce,address2:fe,address3:he,postalAddress:ge})}mobilePage=1;nextPage(){this.router.navigate(["/manage-arrangement"])}previousPage(){this.currentPage===2?(this.currentPage=1,this.mobilePage=1):this.currentPage===3&&(this.currentPage=2,this.mobilePage=1)}nextMobilePage(){this.mobilePage<3&&this.mobilePage++}prevMobilePage(){this.mobilePage>1&&this.mobilePage--}submitForm(){let r=h(h(h({},this.personalForm.value),this.addressForm.value),this.municipalForm.value);console.log("Form submitted:",r)}showDocCard={sassa:!1,idDocument:!1,payslip:!1,municipal:!1};triggerFileInput(r){document.getElementById(r)?.click()}isImage(r){return r.type.match("image.*")!==null}toggleDocCard(r){this.showDocCard[r]=!this.showDocCard[r]}closeDocCard(r){this.showDocCard[r]=!1}deleteDocument(r){this.uploadedFiles[r]=null,this.showDocCard[r]=!1}handleFileInput(r,n){let a=r.target;if(a.files&&a.files.length>0){let l=a.files[0],v=new FileReader;v.onload=E=>{this.uploadedFiles[n]={file:l,previewUrl:this.isImage(l)?E.target.result:""},this.showDocCard[n]=!1},this.isImage(l)?v.readAsDataURL(l):(this.uploadedFiles[n]={file:l,previewUrl:""},this.showDocCard[n]=!1)}}getInitials(r){if(!r)return"";let n=r.split(" "),a=n[0].substring(0,1).toUpperCase();return n.length>1&&(a+=n[n.length-1].substring(0,1).toUpperCase()),a}isFormActive=!1;enableHouseholdForm(){this.isEditMode=!1,this.householdForm.enable(),this.isFormActive=!0,this.householdForm.reset(),this.householdForm.updateValueAndValidity()}addHouseholdMember(){this.householdForm.valid&&(this.isEditMode?console.log("Member updated:",this.householdForm.value):console.log("Member added:",this.householdForm.value),this.householdForm.reset(),this.householdForm.disable(),this.isFormActive=!1,this.isEditMode=!1)}deleteMember(){}isEditMode=!1;toggleEditMode(){this.isEditMode=!this.isEditMode,this.isEditMode?(this.householdForm.enable(),this.isFormActive=!0):(this.householdForm.disable(),this.isFormActive=!1),this.householdForm.updateValueAndValidity()}static \u0275fac=function(n){return new(n||s)(A(I),A(q))};static \u0275cmp=k({type:s,selectors:[["app-create-arrangement"]],viewQuery:function(n,a){if(n&1&&D(be,5),n&2){let l;V(l=T())&&(a.streetAddressInput=l.first)}},decls:7,vars:1,consts:[["dobPicker",""],["idPicker",""],[1,"grid","place-items-center","relative"],[1,"text-center","mt-5","p-10"],[1,"text-5xl"],[1,"flex","justify-center","xl:w-[80vw]","xl:ml-[2vh]","p-2"],[1,"w-full","p-8","rounded-xl","bg-white","bg-opacity-50","xl:w-full","xl:min-h-[40vh]","xl:max-h-[80vh]"],[3,"formGroup"],[1,"text-center","text-black"],[1,"text-3xl"],[1,"hidden","xl:w-1/2","xl:flex","xl:mb-6"],[1,"text-xl","text-black"],[1,"hidden","xl:flex","xl:gap-8"],[1,"xl:w-1/2"],["appearance","outlined",1,"p-3"],[1,"text-lg","text-black"],[1,"hidden","xl:block","border-r","border-gray-200","h-auto","my-2"],["class","xl:hidden",4,"ngIf"],[4,"ngIf"],[1,"xl:hidden"],[1,"xl:w-1/2","xl:flex","mb-6"],[1,"w-full"],["type","text","matInput","","formControlName","name"],["type","text","matInput","","formControlName","surname"],["matInput","","formControlName","dob","placeholder","Choose a date",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","iddate","placeholder","Choose a date",3,"matDatepicker"],["type","text","matInput","","formControlName","email"],["mat-flat-button","",1,"primary-btn","w-full","rounded-full","mt-4",3,"click"],[1,"flex","mb-6","flex-col","items-center"],[1,"text-black","text-2xl","mt-4"],["type","text","matInput","","formControlName","streetAddress"],["type","text","matInput","","formControlName","address1"],["type","text","matInput","","formControlName","address2"],["type","text","matInput","","formControlName","address3"],["type","text","matInput","","formControlName","postalAddress"],[1,"flex","gap-4","mt-4"],["mat-stroked-button","",1,"w-1/2","rounded-full",3,"click"],["mat-flat-button","",1,"primary-btn","w-1/2","rounded-full",3,"click"],[1,"w-full",3,"formGroup"],["type","text","matInput","","formControlName","munAccNo"],["type","text","matInput","","formControlName","village"],["type","text","matInput","","formControlName","ward"],["type","text","matInput","","formControlName","salary"],["type","text","matInput","","formControlName","employed"],["type","text","matInput","","formControlName","epwpEmploy"],["type","text","matInput","","formControlName","remarks"]],template:function(n,a){n&1&&(t(0,"div",2)(1,"header",3)(2,"p",4),i(3,"Arrangements"),e()(),t(4,"div",5)(5,"div",6),S(6,_e,62,4,"div",7),e()()()),n&2&&(d(6),P(a.currentPage===1?6:-1))},dependencies:[G,R,K,U,Z,j,Q,W,O,J,$,z,ee,Y,ie,te,L,H,ne,me,oe,ae,le,re,de,se,X],encapsulation:2})};var we=[{path:"",component:w}],ue=class s{static \u0275fac=function(n){return new(n||s)};static \u0275mod=N({type:s});static \u0275inj=M({imports:[B.forChild(we)]})};export{ue as CreateArrangementModule};
