import{c as G}from"./chunk-2CWXZTJZ.js";import{e as Q}from"./chunk-5RYSZYHB.js";import{a as B,e as j}from"./chunk-ZAESWVLT.js";import{l as $}from"./chunk-I7E6UO7N.js";import"./chunk-63ZRRZ5J.js";import{h as L,m as U,p as Z}from"./chunk-NOIGCRU2.js";import{e as T}from"./chunk-3PDXLKW5.js";import{I as V}from"./chunk-H7XDWXKS.js";import{d as u,h,j as a,s as H,t as q}from"./chunk-O7JVAFX7.js";import{i as N,m as R}from"./chunk-W4FWND6D.js";import{Ab as f,Cb as b,Jb as t,Kb as e,Lb as o,Rb as E,Rc as D,Xb as _,Xc as k,Yb as C,Zb as I,a as c,aa as y,bc as n,cb as p,hb as A,ob as M,pb as F,tb as P,za as w}from"./chunk-SKFIY4RN.js";var ee=["streetAddressInput"];function te(s,i){s&1&&(t(0,"div",9)(1,"h3",22),n(2," Arrangement Details "),e(),t(3,"div",23)(4,"div",24)(5,"div")(6,"p",25),n(7,"Arrangement Number"),e(),t(8,"p",26),n(9,"AR-123456"),e()(),t(10,"div")(11,"p",25),n(12,"Account Number"),e(),t(13,"p",26),n(14,"ACC-789012"),e()(),t(15,"div")(16,"p",25),n(17,"Arrangement Account"),e(),t(18,"p",26),n(19,"Savings"),e()()(),t(20,"div",24)(21,"div")(22,"p",25),n(23,"Account Holder ID"),e(),t(24,"p",26),n(25,"ID-789456"),e()(),t(26,"div")(27,"p",25),n(28,"Arrangement ID"),e(),t(29,"p",26),n(30,"AID-456123"),e()(),t(31,"div")(32,"p",25),n(33,"Arrangement Date"),e(),t(34,"p",26),n(35,"2023-05-15"),e()()()()())}function ne(s,i){s&1&&(t(0,"div",9)(1,"h3",22),n(2," Financial Information "),e(),t(3,"div",23)(4,"div",24)(5,"div")(6,"p",25),n(7,"Arrangement Amount"),e(),t(8,"p",26),n(9,"$1,250.00"),e()(),t(10,"div")(11,"p",25),n(12,"Arrangement Term"),e(),t(13,"p",26),n(14,"12 months"),e()(),t(15,"div")(16,"p",25),n(17,"Installment"),e(),t(18,"p",26),n(19,"$104.17/month"),e()()(),t(20,"div",24)(21,"div")(22,"p",25),n(23,"Total Payments"),e(),t(24,"p",26),n(25,"$750.00"),e()(),t(26,"div")(27,"p",25),n(28,"Remaining Term"),e(),t(29,"p",26),n(30,"5 months"),e()(),t(31,"div")(32,"p",25),n(33,"Balance Outstanding"),e(),t(34,"p",26),n(35,"$500.00"),e()()()()())}function ie(s,i){s&1&&(t(0,"div",9)(1,"h3",22),n(2," Status & Actions "),e(),t(3,"div",24)(4,"div")(5,"p",25),n(6,"Account Status"),e(),t(7,"p",27),n(8,"Active"),e()(),t(9,"div")(10,"p",25),n(11,"Last Payment"),e(),t(12,"p",26),n(13,"2023-10-15"),e()(),t(14,"div")(15,"p",25),n(16,"PTP Date"),e(),t(17,"p",26),n(18,"2023-11-15"),e()(),t(19,"div")(20,"p",25),n(21,"Contact Number"),e(),t(22,"p",26),n(23,"+1 555-123-4567"),e()(),t(24,"div")(25,"p",25),n(26,"Email Address"),e(),o(27,"p",26),e()(),t(28,"div",28)(29,"button",15),n(30," Edit Arrangement "),e(),t(31,"button",29),n(32," View Payment History "),e()()())}var x=class s{constructor(i,r){this.ngZone=i;this.router=r}currentPage=1;isAddingMember=!1;isHouseholdFormEnabled=!1;set streetAddressInput(i){i&&this.initAutocomplete(i.nativeElement)}autocomplete;language="";get form(){return c(c({},this.addressForm.controls),this.municipalForm.controls)}personalForm=new h({name:new a(""),surname:new a(""),idno:new a(""),dob:new a(""),iddate:new a(""),email:new a(""),phone:new a(""),telephone:new a(""),address:new a("")});addressForm=new h({streetAddress:new a(""),address1:new a(""),address2:new a(""),address3:new a(""),postalAddress:new a("")});municipalForm=new h({municipalAccount1:new a(""),municipalAccount2:new a(""),munAccNo:new a(""),village:new a(""),ward:new a(""),dependents:new a(""),salary:new a(""),employed:new a(""),epwpEmploy:new a(""),remarks:new a("")});householdForm=new h({idno:new a({value:"",disabled:!0},[u.required]),names:new a({value:"",disabled:!0},[u.required]),surname:new a({value:"",disabled:!0},[u.required]),dob:new a({value:"",disabled:!0},[u.required]),employed:new a({value:"",disabled:!0},[u.required]),contactNo:new a({value:"",disabled:!0},[u.required])});uploadedFiles={sassa:null,idDocument:null,payslip:null,municipal:null};showMunicipalSection=!1;initAutocomplete(i){try{if(typeof google>"u"||!google.maps){console.error("Google Maps JavaScript API not loaded");return}this.autocomplete=new google.maps.places.Autocomplete(i,{types:["geocode"],componentRestrictions:{country:"ZA"},fields:["address_components","formatted_address"]}),this.autocomplete.addListener("place_changed",()=>{this.ngZone.run(()=>{try{let r=this.autocomplete.getPlace();if(console.log("Place selected:",r),!r.address_components){console.error("No address components available");return}this.fillAddressFields(r)}catch(r){console.error("Error processing place selection:",r)}})})}catch(r){console.error("Error initializing autocomplete:",r)}}fillAddressFields(i){if(!i)return;let r=i.formatted_address||"";this.addressForm.reset(),this.addressForm.patchValue({streetAddress:r,address1:"",address2:"",address3:"",postalAddress:""});let l="",m="",g="",v="",S="",z="";for(let d of i.address_components)switch(d.types[0]){case"street_number":l=d.long_name;break;case"route":m=d.long_name;break;case"locality":g=d.long_name;break;case"administrative_area_level_1":v=d.long_name;break;case"postal_code":S=d.long_name;break;case"country":z=d.long_name;break}let J=l?`${l} ${m}`:m,K=g,W=v,X=S;this.addressForm.patchValue({address1:J,address2:K,address3:W,postalAddress:X})}mobilePage=1;maxMobilePages=7;nextPage(){this.router.navigate(["/manage-arrangement"])}previousPage(){this.currentPage===2?(this.currentPage=1,this.mobilePage=1):this.currentPage===3&&(this.currentPage=2,this.mobilePage=1)}nextMobilePage(){this.mobilePage<this.maxMobilePages&&this.mobilePage++}prevMobilePage(){this.mobilePage>1&&this.mobilePage--}submitForm(){let i=c(c(c({},this.personalForm.value),this.addressForm.value),this.municipalForm.value);console.log("Form submitted:",i)}showDocCard={sassa:!1,idDocument:!1,payslip:!1,municipal:!1};triggerFileInput(i){document.getElementById(i)?.click()}isImage(i){return i.type.match("image.*")!==null}toggleDocCard(i){this.showDocCard[i]=!this.showDocCard[i]}closeDocCard(i){this.showDocCard[i]=!1}deleteDocument(i){this.uploadedFiles[i]=null,this.showDocCard[i]=!1}handleFileInput(i,r){let l=i.target;if(l.files&&l.files.length>0){let m=l.files[0],g=new FileReader;g.onload=v=>{this.uploadedFiles[r]={file:m,previewUrl:this.isImage(m)?v.target.result:""},this.showDocCard[r]=!1},this.isImage(m)?g.readAsDataURL(m):(this.uploadedFiles[r]={file:m,previewUrl:""},this.showDocCard[r]=!1)}}getInitials(i){if(!i)return"";let r=i.split(" "),l=r[0].substring(0,1).toUpperCase();return r.length>1&&(l+=r[r.length-1].substring(0,1).toUpperCase()),l}isFormActive=!1;enableHouseholdForm(){this.isEditMode=!1,this.householdForm.enable(),this.isFormActive=!0,this.householdForm.reset(),this.householdForm.updateValueAndValidity()}addHouseholdMember(){this.householdForm.valid&&(this.isEditMode?console.log("Member updated:",this.householdForm.value):console.log("Member added:",this.householdForm.value),this.householdForm.reset(),this.householdForm.disable(),this.isFormActive=!1,this.isEditMode=!1)}deleteMember(){}isEditMode=!1;toggleEditMode(){this.isEditMode=!this.isEditMode,this.isEditMode?(this.householdForm.enable(),this.isFormActive=!0):(this.householdForm.disable(),this.isFormActive=!1),this.householdForm.updateValueAndValidity()}static \u0275fac=function(r){return new(r||s)(A(w),A(N))};static \u0275cmp=M({type:s,selectors:[["app-create-arrangement"]],viewQuery:function(r,l){if(r&1&&_(ee,5),r&2){let m;C(m=I())&&(l.streetAddressInput=m.first)}},decls:110,vars:21,consts:[[1,"p-4","md:p-8"],[1,"max-w-7xl","mx-auto"],[1,"text-center","mt-10","mb-8"],[1,"text-4xl","font-bold"],[1,"bg-white","rounded-xl","shadow-lg","overflow-hidden"],[1,"hidden","md:block"],[1,"grid","grid-cols-3","divide-x","divide-gray-200"],[1,"p-6"],[1,"text-xl","font-semibold","text-gray-700","mb-4","pb-2","border-b","border-gray-200"],[1,"space-y-4"],[1,"grid","grid-cols-2","gap-2"],[1,"text-gray-500","font-medium"],[1,"text-gray-800"],[1,"text-green-600","font-medium"],[1,"pt-4","mt-4","border-t","border-gray-200"],[1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-2","px-4","rounded-lg","transition","duration-200"],[1,"w-full","mt-2","bg-gray-100","hover:bg-gray-200","text-gray-800","font-medium","py-2","px-4","rounded-lg","transition","duration-200"],[1,"md:hidden"],[1,"p-4"],[1,"flex","border-b","border-gray-200","mb-4"],[1,"px-4","py-2","font-medium","text-sm","flex-1","text-center","border-b-2",3,"click"],["class","space-y-4",4,"ngIf"],[1,"text-lg","font-semibold","text-gray-700"],[1,"grid","grid-cols-2","gap-4"],[1,"space-y-3"],[1,"text-sm","text-gray-500"],[1,"font-medium"],[1,"font-medium","text-green-600"],[1,"pt-4","mt-4","space-y-2"],[1,"w-full","bg-gray-100","hover:bg-gray-200","text-gray-800","font-medium","py-2","px-4","rounded-lg","transition","duration-200"]],template:function(r,l){r&1&&(t(0,"div",0)(1,"div",1)(2,"header",2)(3,"h1",3),n(4,"Arrangement Management"),e()(),t(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h2",8),n(10," Arrangement Details "),e(),t(11,"div",9)(12,"div",10)(13,"span",11),n(14,"Arrangement Number:"),e(),o(15,"span",12),e(),t(16,"div",10)(17,"span",11),n(18,"Account Number:"),e(),o(19,"span",12),e(),t(20,"div",10)(21,"span",11),n(22,"Arrangement Account:"),e(),o(23,"span",12),e(),t(24,"div",10)(25,"span",11),n(26,"Account Holder ID:"),e(),o(27,"span",12),e(),t(28,"div",10)(29,"span",11),n(30,"Arrangement ID:"),e(),o(31,"span",12),e(),t(32,"div",10)(33,"span",11),n(34,"Arrangement Date:"),e(),o(35,"span",12),e(),t(36,"div",10)(37,"span",11),n(38,"Created By:"),e(),o(39,"span",12),e()()(),t(40,"div",7)(41,"h2",8),n(42," Financial Information "),e(),t(43,"div",9)(44,"div",10)(45,"span",11),n(46,"Arrangement Amount:"),e(),o(47,"span",12),e(),t(48,"div",10)(49,"span",11),n(50,"Arrangement Term:"),e(),o(51,"span",12),e(),t(52,"div",10)(53,"span",11),n(54,"Installment:"),e(),o(55,"span",12),e(),t(56,"div",10)(57,"span",11),n(58,"Total Payments:"),e(),o(59,"span",12),e(),t(60,"div",10)(61,"span",11),n(62,"Remaining Term:"),e(),o(63,"span",12),e(),t(64,"div",10)(65,"span",11),n(66,"Balance Outstanding:"),e(),o(67,"span",12),e()()(),t(68,"div",7)(69,"h2",8),n(70," Status & Actions "),e(),t(71,"div",9)(72,"div",10)(73,"span",11),n(74,"Account Status:"),e(),t(75,"span",13),n(76,"Active"),e()(),t(77,"div",10)(78,"span",11),n(79,"Last Payment:"),e(),o(80,"span",12),e(),t(81,"div",10)(82,"span",11),n(83,"PTP Date:"),e(),o(84,"span",12),e(),t(85,"div",10)(86,"span",11),n(87,"Contact Number:"),e(),o(88,"span",12),e(),t(89,"div",10)(90,"span",11),n(91,"Email Address:"),e(),o(92,"span",12),e(),t(93,"div",14)(94,"button",15),n(95," Edit Arrangement "),e(),t(96,"button",16),n(97," View Payment History "),e()()()()()(),t(98,"div",17)(99,"div",18)(100,"div",19)(101,"button",20),E("click",function(){return l.mobilePage=1}),n(102," Details "),e(),t(103,"button",20),E("click",function(){return l.mobilePage=2}),n(104," Financial "),e(),t(105,"button",20),E("click",function(){return l.mobilePage=3}),n(106," Status "),e()(),P(107,te,36,0,"div",21)(108,ne,36,0,"div",21)(109,ie,33,0,"div",21),e()()()()()),r&2&&(p(101),b("border-blue-500",l.mobilePage===1)("text-blue-600",l.mobilePage===1)("text-gray-500",l.mobilePage!==1),p(2),b("border-blue-500",l.mobilePage===2)("text-blue-600",l.mobilePage===2)("text-gray-500",l.mobilePage!==2),p(2),b("border-blue-500",l.mobilePage===3)("text-blue-600",l.mobilePage===3)("text-gray-500",l.mobilePage!==3),p(2),f("ngIf",l.mobilePage===1),p(),f("ngIf",l.mobilePage===2),p(),f("ngIf",l.mobilePage===3))},dependencies:[k,D,q,L,U,Z,V,T,$,j,B,Q,G,H],encapsulation:2})};var ae=[{path:"",component:x}],O=class s{static \u0275fac=function(r){return new(r||s)};static \u0275mod=F({type:s});static \u0275inj=y({imports:[R.forChild(ae)]})};export{O as ManageArrangementModule};
