<div class="grid place-items-center relative">
  <header class="text-center mt-5 p-10">
    <p class="text-5xl">Arrangements</p>
  </header>

  <div class="flex justify-center xl:w-[80vw] xl:ml-[2vh] p-2">
    <div
      class="w-full p-8 rounded-xl bg-white bg-opacity-50 xl:w-full xl:min-h-[40vh] xl:max-h-[80vh]"
    >
      @if (currentPage === 1) {
      <div [formGroup]="personalForm">
        <div class="text-center text-black">
          <p class="text-3xl mb-2">Manage Arrangement</p>
        </div>

        <!-- Desktop View (with tabs) -->
        <div class="hidden md:block">
          <div class="flex flex-row w-full p-2">
            <!-- First Card -->
            <div class="w-1/3 pr-4">
              <mat-card appearance="outlined" class="p-3">
                <h3 class="text-lg text-black">Arrangement Number:</h3>
                <h3 class="text-lg text-black">Account Number:</h3>
                <h3 class="text-lg text-black">Arrangement Account:</h3>
                <h3 class="text-lg text-black">Account Holder ID Number:</h3>
                <h3 class="text-lg text-black">Arrangement ID Number:</h3>
                <h3 class="text-lg text-black">Arrangement Date:</h3>
                <h3 class="text-lg text-black">Created By:</h3>
                <h3 class="text-lg text-black">Arrangement Amount:</h3>
                <h3 class="text-lg text-black">Arrangement Term:</h3>
                <h3 class="text-lg text-black">Installment:</h3>
                <h3 class="text-lg text-black">PTP Date:</h3>
              </mat-card>
            </div>

            <!-- Divider -->
            <div class="border-l border-gray-200 h-auto"></div>

            <!-- Second Card -->
            <div class="w-1/3 pl-4 pr-4">
              <mat-card appearance="outlined" class="p-3">
                <h3 class="text-lg text-black">Fin Period:</h3>
                <h3 class="text-lg text-black">Account Status:</h3>
                <h3 class="text-lg text-black">Extension:</h3>
                <h3 class="text-lg text-black">Extension Date:</h3>
                <h3 class="text-lg text-black">Arrangement Type:</h3>
                <h3 class="text-lg text-black">Contact Number:</h3>
                <h3 class="text-lg text-black">Email Address:</h3>
                <h3 class="text-lg text-black">OTP:</h3>
                <h3 class="text-lg text-black">Last OTP Date:</h3>
                <h3 class="text-lg text-black">Last Action:</h3>
              </mat-card>
            </div>

            <div class="border-l border-gray-200 h-auto"></div>

            <div class="w-1/3 pl-4">
              <mat-card appearance="outlined" class="p-3">
                <h3 class="text-lg text-black">Consumer Number:</h3>
                <h3 class="text-lg text-black">Total Payments:</h3>
                <h3 class="text-lg text-black">Remaining Term:</h3>
                <h3 class="text-lg text-black">Balance Outstanding:</h3>
                <h3 class="text-lg text-black">Created By:</h3>
                <h3 class="text-lg text-black">Billing Reference:</h3>
                <h3 class="text-lg text-black">Last Payment Date:</h3>
                <h3 class="text-lg text-black">Prepaid Meter Number:</h3>
                <h3 class="text-lg text-black">Indigent:</h3>
                <h3 class="text-lg text-black">Deceased:</h3>
              </mat-card>

              <button
                mat-flat-button
                class="primary-btn w-full rounded-full mt-3"
              >
                <span>Edit this Arrangement</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Mobile View (no tabs, separate pages) -->
        <div class="block md:hidden">
          <!-- Arrangement Details Page 1 -->
          @if (mobilePage === 1) {
          <div class="w-full p-2">
            <mat-card appearance="outlined" class="p-3 mb-4">
              <h3 class="text-lg text-black">Arrangement Number:</h3>
              <h3 class="text-lg text-black">Account Number:</h3>
              <h3 class="text-lg text-black">Arrangement Account:</h3>
              <h3 class="text-lg text-black">Account Holder ID Number:</h3>
              <h3 class="text-lg text-black">Arrangement ID Number:</h3>
              <h3 class="text-lg text-black">Arrangement Date:</h3>
              <h3 class="text-lg text-black">Created By:</h3>
              <h3 class="text-lg text-black">Arrangement Amount:</h3>
              <h3 class="text-lg text-black">Arrangement Term:</h3>
              <h3 class="text-lg text-black">Installment:</h3>
              <h3 class="text-lg text-black">PTP Date:</h3>
            </mat-card>

            <div class="flex justify-between mt-4">
              <button
                mat-flat-button
                class="primary-btn rounded-full"
                (click)="prevMobilePage()"
                [disabled]="mobilePage === 1"
              >
                Previous
              </button>
              <button
                mat-flat-button
                class="primary-btn rounded-full"
                (click)="nextMobilePage()"
              >
                Next
              </button>
            </div>
          </div>
          }

          <!-- Arrangement Details Page 2 -->
          @if (mobilePage === 2) {
          <div class="w-full p-2">
            <mat-card appearance="outlined" class="p-3 mb-4">
              <h3 class="text-lg text-black">Fin Period:</h3>
              <h3 class="text-lg text-black">Account Status:</h3>
              <h3 class="text-lg text-black">Extension:</h3>
              <h3 class="text-lg text-black">Extension Date:</h3>
              <h3 class="text-lg text-black">Arrangement Type:</h3>
              <h3 class="text-lg text-black">Contact Number:</h3>
              <h3 class="text-lg text-black">Email Address:</h3>
              <h3 class="text-lg text-black">OTP:</h3>
              <h3 class="text-lg text-black">Last OTP Date:</h3>
              <h3 class="text-lg text-black">Last Action:</h3>
            </mat-card>

            <div class="flex justify-between mt-4">
              <button
                mat-flat-button
                class="primary-btn rounded-full"
                (click)="prevMobilePage()"
              >
                Previous
              </button>
              <button
                mat-flat-button
                class="primary-btn rounded-full"
                (click)="nextMobilePage()"
              >
                Next
              </button>
            </div>
          </div>
          }

          <!-- Arrangement Details Page 3 -->
          @if (mobilePage === 3) {
          <div class="w-full p-2">
            <mat-card appearance="outlined" class="p-3 mb-4">
              <h3 class="text-lg text-black">Consumer Number:</h3>
              <h3 class="text-lg text-black">Total Payments:</h3>
              <h3 class="text-lg text-black">Remaining Term:</h3>
              <h3 class="text-lg text-black">Balance Outstanding:</h3>
              <h3 class="text-lg text-black">Created By:</h3>
              <h3 class="text-lg text-black">Billing Reference:</h3>
              <h3 class="text-lg text-black">Last Payment Date:</h3>
              <h3 class="text-lg text-black">Prepaid Meter Number:</h3>
              <h3 class="text-lg text-black">Indigent:</h3>
              <h3 class="text-lg text-black">Deceased:</h3>
            </mat-card>

            <button
              mat-flat-button
              class="primary-btn w-full rounded-full mb-4"
            >
              <span>Edit this Arrangement</span>
            </button>

            <div class="flex justify-between mt-4">
              <button
                mat-flat-button
                class="primary-btn rounded-full"
                (click)="prevMobilePage()"
              >
                Previous
              </button>
              <button
                mat-flat-button
                class="primary-btn rounded-full"
                (click)="nextMobilePage()"
              >
                Next
              </button>
            </div>
          </div>
          }
        </div>
      </div>
      }
    </div>
  </div>
</div>
